# Keybase Chatbot Hide Sender Analysis

This repository contains the script referenced in Section 4.2, "Platforms with Chatbot Support", of our research. The script is designed to construct a basic chatbot. Additionally, the JSON-formatted message object generated by Keybase SDK have been collected and are included.

### 1. `index.js`
A JavaScript-based script leveraged Keybase SDK to act as a chatbot. It retrieves the latest messages and responds to them accordingly.

### 2. `restricted-bot.json` and `unrestricted-bot.json`
These files contain JSON-formatted message objects generated by Keybase SDK. The data provides evidences of the following observation in Section 4.2:

- **Hide sender**: Chatbots are capable of accessing the sender's User ID along with the message content.

## Usage  

### Installation  

To replicate the analysis and ensure consistency in experimental conditions, the following software dependencies must be installed:  

1. **Node.js**  
   Download and install the Node.js runtime from the official website: [Node.js — Download Node.js®](https://nodejs.org/en/download).  
   - **Version Used:** v20.18.0 (to maintain consistency with the referenced experimental setup).  

2. **Repository Setup**  
   After obtaining the repository, navigate to the root directory and execute the following command to install all required dependencies:  
   ```bash  
   npm install  
   ```  

3. **Keybase**  
   Install the Keybase application from [Keybase Download](https://keybase.io/download).  

### Chatbot User Registration  
To facilitate interaction within the Keybase environment, two new chatbot users must be created:  

1. Launch the Keybase Application and create two distinct user accounts for the chatbots.  
2. Once logged in, navigate to the "Devices" section via the left sidebar.  
3. Select the option to `add a device or paper key` and generate a paper key for each bot.

**Establishing a Keybase Group for the Experiment**  
Following user registration, the next step is to configure a Keybase team as an experimental environment:  

1. Switch to the human user account within the Keybase application.  
2. Create a new Keybase team.  
3. Within the created team, establish a new channel or utilize the default `general` channel.  
4. Add one bot as an *unrestricted bot* in the channel and the other as a *restricted bot*.  

This setup will simulate a controlled environment for evaluating chatbot interactions with differing privacy configurations.

### Executing the Chatbot  

To run the chatbot and begin the evaluation process, follow the steps below:  

1. **Start the Chatbot**  
   From the root directory of the repository, execute the following command to initiate the chatbot script:  
   ```bash  
   KB_USERNAME='{REDACTED}' KB_PAPERKEY='{REDACTED}' node index.js  
   ```  
   Replace `{REDACTED}` with the appropriate Keybase username and paper key for the respective bot.  
   Upon receiving messages, the chatbot will output the message object to the console.  

2. **Interaction with the Chatbot**  
   To trigger the chatbot functionality, send a message within the Keybase channel.
